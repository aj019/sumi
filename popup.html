<!DOCTYPE html>
<html>
<head>
  <title>Text Summarizer</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
  <div class="top-bar">
    <span class="title">SUMI</span>
    <div>
      <button id="chatBtn" class="icon-btn" title="Chat">
        <i class="fa-regular fa-comments"></i>
      </button>
      <button id="settingsBtn" class="icon-btn" title="Settings">
        <i class="fa-solid fa-gear"></i>
      </button>
    </div>
  </div>

  <div id="homePage">
    <div class="info-box" id="infoBox">Select text on any webpage and click the extension icon to summarize it.</div>
    <div id="selectedTextBox" class="selected-text-box" style="display:none;"></div>
    <div id="buttonColumn" style="display:none;">
      <button id="summarizeBtn" class="primary-button">Summarize</button>
      <button id="fixGrammarBtn" class="secondary-button">Fix Grammar</button>
      <button id="rephraseBtn" class="secondary-button">Rephrase</button>
      <button id="twitterThreadBtn" class="secondary-button">Generate Twitter Thread</button>
    </div>
    <div id="summaryResult" class="summary-result" style="display:none;">
      <span id="summaryText"></span>
      <button class="copy-btn" id="copySummaryBtn" title="Copy"><i class="fa-regular fa-copy"></i></button>
    </div>
    <div id="grammarResult" class="summary-result" style="display:none;">
      <span id="grammarText"></span>
      <button class="copy-btn" id="copyGrammarBtn" title="Copy"><i class="fa-regular fa-copy"></i></button>
    </div>
    <div id="rephraseResult" class="summary-result" style="display:none;">
      <span id="rephraseText"></span>
      <button class="copy-btn" id="copyRephraseBtn" title="Copy"><i class="fa-regular fa-copy"></i></button>
    </div>
    <div id="twitterThreadResult" class="summary-result" style="display:none;">
      <span id="twitterThreadText"></span>
      <button class="copy-btn" id="copyTwitterThreadBtn" title="Copy"><i class="fa-regular fa-copy"></i></button>
    </div>
  </div>

  <div id="settingsPage" class="settings-page" style="display:none;">
    <h2>Settings</h2>
    <div class="input-group">
      <label for="apiKey">OpenAI API Key:</label>
      <input type="password" id="apiKey" placeholder="Enter your OpenAI API key">
      <button id="saveApiKey" class="primary-button">Save</button>
    </div>
    <button id="backBtn" class="secondary-button">Back</button>
  </div>

  <div id="chatPage" class="chat-page" style="display:none;">
    <div id="chatHistory" class="chat-history"></div>
    <div class="chat-input-row">
      <input type="text" id="chatInput" placeholder="Type your message..." autocomplete="off" />
      <button id="sendChatBtn" class="primary-button"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
    <div class="chat-actions-row">
      <button id="chatBackBtn" class="secondary-button">Back</button>
      <button id="clearChatBtn" class="secondary-button">Clear Chat</button>
    </div>
  </div>

  <div id="status" class="status"></div>
  <script src="js/marked.min.js"></script>
  <script src="popup.js"></script>
</body>
</html> 